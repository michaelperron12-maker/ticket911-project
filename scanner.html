<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ticket911 — Analyse AI de contraventions | Quebec & Ontario</title>
    <meta name="description" content="Analysez votre contravention en 45 secondes avec 26 agents IA. Jurisprudence, lois, arguments de defense — Quebec et Ontario.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #060a18;
            --bg-secondary: #0a1128;
            --bg-card: rgba(255,255,255,0.03);
            --border: rgba(255,255,255,0.07);
            --navy: #1e3a5f;
            --red: #e63946;
            --red-dark: #c62828;
            --gold: #d4a843;
            --green: #22c55e;
            --purple: #7c3aed;
            --cyan: #06b6d4;
            --text: #e2e8f0;
            --text-dim: rgba(255,255,255,0.45);
            --text-muted: rgba(255,255,255,0.3);
            --glow-red: rgba(230,57,70,0.3);
            --glow-gold: rgba(212,168,67,0.3);
            --glow-green: rgba(34,197,94,0.3);
            --glow-purple: rgba(124,58,237,0.25);
            --glow-cyan: rgba(6,182,212,0.25);
        }
        * { margin:0; padding:0; box-sizing:border-box; }
        html { scroll-behavior:smooth; }
        body {
            min-height:100vh; font-family:'Inter',system-ui,sans-serif; color:var(--text);
            background: var(--bg-primary); overflow-x:hidden;
        }
        a { color:var(--gold); text-decoration:none; }
        a:hover { text-decoration:underline; }

        /* ═══ PARTICLE BACKGROUND ═══ */
        #particles-bg {
            position:fixed; inset:0; z-index:0; pointer-events:none;
            background: radial-gradient(ellipse at 20% 50%, rgba(30,58,95,0.15) 0%, transparent 60%),
                        radial-gradient(ellipse at 80% 20%, rgba(124,58,237,0.08) 0%, transparent 50%),
                        radial-gradient(ellipse at 50% 90%, rgba(230,57,70,0.06) 0%, transparent 50%);
        }
        .particle {
            position:absolute; border-radius:50%; pointer-events:none;
            animation: floatParticle linear infinite;
        }
        @keyframes floatParticle {
            0% { transform:translateY(0) translateX(0) scale(1); opacity:0; }
            10% { opacity:1; } 90% { opacity:1; }
            100% { transform:translateY(-100vh) translateX(50px) scale(0.3); opacity:0; }
        }

        /* ═══ LAYOUT ═══ */
        .container { max-width:1000px; margin:0 auto; padding:0 1.5rem; position:relative; z-index:1; }
        .section { padding:5rem 0; }
        .section-title {
            font-size:2rem; font-weight:900; text-align:center; margin-bottom:.6rem;
            background: linear-gradient(135deg, #fff 0%, var(--gold) 100%);
            -webkit-background-clip:text; -webkit-text-fill-color:transparent;
        }
        .section-sub { text-align:center; color:var(--text-dim); font-size:1rem; margin-bottom:3rem; max-width:600px; margin-left:auto; margin-right:auto; line-height:1.6; }
        .divider {
            width:60px; height:3px; margin:0 auto 3rem;
            background: linear-gradient(90deg, var(--red), var(--gold));
            border-radius:2px;
        }

        /* ═══ NAVBAR ═══ */
        .navbar {
            position:fixed; top:0; left:0; right:0; z-index:100;
            padding:1rem 0;
            background: rgba(6,10,24,0.85);
            backdrop-filter: blur(16px);
            border-bottom:1px solid var(--border);
            transition: background .3s;
        }
        .navbar .container { display:flex; justify-content:space-between; align-items:center; }
        .nav-logo {
            font-size:1.3rem; font-weight:900; letter-spacing:2px;
            background: linear-gradient(135deg, var(--red), var(--gold));
            -webkit-background-clip:text; -webkit-text-fill-color:transparent;
        }
        .nav-links { display:flex; gap:1.5rem; align-items:center; }
        .nav-links a { color:var(--text-dim); font-size:.82rem; font-weight:600; text-decoration:none; transition:color .2s; }
        .nav-links a:hover { color:#fff; text-decoration:none; }
        .nav-cta {
            padding:8px 20px; border-radius:10px; font-size:.82rem; font-weight:700;
            background: linear-gradient(135deg, var(--red), var(--red-dark));
            color:#fff !important; border:none; cursor:pointer; transition:all .3s;
        }
        .nav-cta:hover { transform:translateY(-1px); box-shadow:0 6px 20px var(--glow-red); }

        /* ═══ HERO ═══ */
        .hero {
            min-height:100vh; display:flex; align-items:center; justify-content:center;
            text-align:center; padding:8rem 1.5rem 4rem; position:relative;
        }
        .hero-content { max-width:700px; }
        .hero-badge {
            display:inline-flex; align-items:center; gap:.5rem;
            padding:6px 18px; border-radius:20px; font-size:.75rem; font-weight:600;
            background:rgba(34,197,94,0.08); border:1px solid rgba(34,197,94,0.2); color:var(--green);
            margin-bottom:1.5rem;
        }
        .hero-badge-dot { width:6px; height:6px; border-radius:50%; background:var(--green); animation:pulse 1.5s infinite; }
        @keyframes pulse { 0%,100%{opacity:1;transform:scale(1)} 50%{opacity:.4;transform:scale(.7)} }
        .hero h1 {
            font-size:3.5rem; font-weight:900; line-height:1.1; margin-bottom:1.2rem;
            letter-spacing:-1px;
        }
        .hero h1 .highlight {
            background: linear-gradient(135deg, var(--red) 0%, var(--gold) 100%);
            -webkit-background-clip:text; -webkit-text-fill-color:transparent;
        }
        .hero-sub { font-size:1.15rem; color:var(--text-dim); line-height:1.7; margin-bottom:2rem; max-width:550px; margin-left:auto; margin-right:auto; }
        .hero-cta-row { display:flex; gap:1rem; justify-content:center; flex-wrap:wrap; margin-bottom:2.5rem; }
        .btn-primary {
            padding:16px 36px; border:none; border-radius:14px; cursor:pointer;
            font-size:1.05rem; font-weight:800; font-family:'Inter',sans-serif;
            color:#fff; transition:all .3s; position:relative; overflow:hidden;
            background: linear-gradient(135deg, var(--red) 0%, var(--red-dark) 50%, var(--red) 100%);
            background-size:200% 200%; animation:btnGradient 3s ease infinite;
        }
        @keyframes btnGradient { 0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%} }
        .btn-primary:hover { transform:translateY(-3px); box-shadow:0 12px 40px var(--glow-red); text-decoration:none; }
        .btn-outline {
            padding:16px 36px; border:1px solid var(--border); border-radius:14px;
            background:rgba(255,255,255,0.04); color:var(--text); font-size:1.05rem;
            font-weight:700; cursor:pointer; transition:all .3s; font-family:'Inter',sans-serif;
        }
        .btn-outline:hover { border-color:var(--gold); background:rgba(212,168,67,0.06); transform:translateY(-2px); text-decoration:none; }

        .hero-stats { display:flex; gap:3rem; justify-content:center; flex-wrap:wrap; }
        .hero-stat { text-align:center; }
        .hero-stat-num { font-size:1.8rem; font-weight:900; color:#fff; }
        .hero-stat-num .accent { color:var(--gold); }
        .hero-stat-label { font-size:.72rem; color:var(--text-dim); text-transform:uppercase; letter-spacing:1px; margin-top:.2rem; }

        /* ═══ HOW IT WORKS ═══ */
        .steps-grid { display:grid; grid-template-columns:repeat(3,1fr); gap:2rem; }
        .step-card {
            background:var(--bg-card); border:1px solid var(--border);
            border-radius:20px; padding:2rem 1.5rem; text-align:center;
            backdrop-filter:blur(12px); transition:all .3s; position:relative; overflow:hidden;
        }
        .step-card::before {
            content:''; position:absolute; top:0; left:0; right:0; height:3px;
            background: linear-gradient(90deg, var(--red), var(--gold));
            opacity:0; transition:opacity .3s;
        }
        .step-card:hover { border-color:rgba(255,255,255,0.12); box-shadow:0 8px 32px rgba(0,0,0,0.3); transform:translateY(-4px); }
        .step-card:hover::before { opacity:1; }
        .step-num {
            width:44px; height:44px; border-radius:12px; margin:0 auto 1rem;
            display:flex; align-items:center; justify-content:center;
            font-size:1.1rem; font-weight:900;
            background: linear-gradient(135deg, var(--red), var(--gold));
            color:#fff;
        }
        .step-icon { font-size:2.5rem; margin-bottom:.8rem; display:block; filter:drop-shadow(0 0 10px var(--glow-cyan)); }
        .step-card h3 { font-size:1rem; font-weight:800; margin-bottom:.5rem; }
        .step-card p { font-size:.82rem; color:var(--text-dim); line-height:1.6; }

        /* ═══ FEATURES ═══ */
        .features-grid { display:grid; grid-template-columns:repeat(2,1fr); gap:1.5rem; }
        .feature-card {
            background:var(--bg-card); border:1px solid var(--border);
            border-radius:16px; padding:1.5rem; display:flex; gap:1rem; align-items:flex-start;
            backdrop-filter:blur(12px); transition:all .3s;
        }
        .feature-card:hover { border-color:rgba(255,255,255,0.12); box-shadow:0 6px 24px rgba(0,0,0,0.2); }
        .feature-icon {
            flex-shrink:0; width:48px; height:48px; border-radius:12px;
            display:flex; align-items:center; justify-content:center; font-size:1.4rem;
            background:rgba(255,255,255,0.04); border:1px solid var(--border);
        }
        .feature-card h3 { font-size:.9rem; font-weight:700; margin-bottom:.3rem; }
        .feature-card p { font-size:.78rem; color:var(--text-dim); line-height:1.5; }

        /* ═══ SCANNER SECTION ═══ */
        #scanner { padding-top:2rem; }

        /* ═══ GLASS CARDS ═══ */
        .card {
            background:var(--bg-card); border:1px solid var(--border);
            border-radius:20px; padding:2rem; margin-bottom:1.5rem;
            backdrop-filter:blur(12px); transition:border-color .3s, box-shadow .3s;
        }
        .card:hover { border-color:rgba(255,255,255,0.12); box-shadow:0 8px 32px rgba(0,0,0,0.2); }
        .card h2 {
            font-size:1.1rem; font-weight:700; margin-bottom:1.2rem;
            display:flex; align-items:center; gap:.5rem;
        }
        .card h2 .step-num-sm {
            width:28px; height:28px; border-radius:8px; display:flex; align-items:center; justify-content:center;
            font-size:.75rem; font-weight:800;
            background: linear-gradient(135deg, var(--red), var(--gold));
            color:#fff;
        }

        /* ═══ TYPE SELECTOR ═══ */
        .type-grid { display:grid; grid-template-columns:repeat(5,1fr); gap:.5rem; margin-bottom:1rem; }
        .type-btn {
            padding:14px 6px; border:1px solid var(--border); border-radius:14px;
            background:var(--bg-card); color:var(--text-dim); text-align:center;
            cursor:pointer; transition:all .25s; font-size:.72rem; font-weight:500;
            position:relative; overflow:hidden;
        }
        .type-btn::before {
            content:''; position:absolute; inset:0; opacity:0;
            background: radial-gradient(circle at center, var(--glow-red), transparent 70%);
            transition:opacity .3s;
        }
        .type-btn:hover::before { opacity:.5; }
        .type-btn:hover { border-color:var(--gold); color:#fff; transform:translateY(-2px); }
        .type-btn.selected {
            border-color:var(--red); color:#fff;
            background: linear-gradient(135deg, rgba(230,57,70,0.12), rgba(212,168,67,0.08));
            box-shadow:0 0 20px var(--glow-red);
        }
        .type-btn.selected::before { opacity:.6; }
        .type-icon { font-size:1.6rem; display:block; margin-bottom:4px; position:relative; }

        /* ═══ FORM ═══ */
        .form-grid { display:grid; grid-template-columns:1fr 1fr; gap:1rem; }
        .form-group { display:flex; flex-direction:column; gap:.3rem; }
        .form-group.full { grid-column:1/-1; }
        .form-group.hidden { display:none; }
        label { font-size:.75rem; color:var(--text-dim); font-weight:600; text-transform:uppercase; letter-spacing:.5px; }
        input, select, textarea {
            padding:11px 14px; border:1px solid var(--border); border-radius:12px;
            background:rgba(255,255,255,0.04); color:#fff; font-size:.9rem;
            font-family:'Inter',sans-serif; outline:none; transition:all .25s;
        }
        input:focus, select:focus, textarea:focus { border-color:var(--gold); box-shadow:0 0 16px var(--glow-gold); }
        select { cursor:pointer; }
        select option { background:#0f172a; }
        textarea { resize:vertical; min-height:80px; }

        /* ═══ UPLOAD ═══ */
        .upload-zone {
            border:2px dashed rgba(255,255,255,0.1); border-radius:16px; padding:2rem;
            text-align:center; cursor:pointer; transition:all .3s; position:relative;
            background:rgba(255,255,255,0.02);
        }
        .upload-zone:hover { border-color:var(--cyan); background:rgba(6,182,212,0.04); box-shadow:0 0 30px var(--glow-cyan); }
        .upload-zone input[type="file"] { position:absolute; inset:0; opacity:0; cursor:pointer; }
        .upload-icon { font-size:2.5rem; margin-bottom:.5rem; filter:drop-shadow(0 0 8px var(--glow-cyan)); }
        .upload-text { color:var(--text-dim); font-size:.8rem; }
        .file-name { color:var(--green); font-size:.85rem; margin-top:.5rem; font-weight:600; }
        .or-divider {
            text-align:center; margin:1.5rem 0; color:rgba(255,255,255,0.2); font-size:.8rem;
            display:flex; align-items:center; gap:1rem;
        }
        .or-divider::before,.or-divider::after { content:''; flex:1; height:1px; background:var(--border); }

        /* ═══ ANALYZE BUTTON ═══ */
        .btn-analyze {
            width:100%; padding:16px; border:none; border-radius:14px; cursor:pointer;
            font-size:1.1rem; font-weight:800; font-family:'Inter',sans-serif;
            color:#fff; position:relative; overflow:hidden; transition:all .3s;
            background: linear-gradient(135deg, #e63946 0%, #c62828 50%, #e63946 100%);
            background-size:200% 200%; animation:btnGradient 3s ease infinite;
        }
        .btn-analyze::before {
            content:''; position:absolute; top:-50%; left:-50%; width:200%; height:200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1), transparent 60%);
            transform:rotate(45deg); transition:all .5s;
        }
        .btn-analyze:hover { transform:translateY(-3px); box-shadow:0 12px 40px var(--glow-red); }
        .btn-analyze:hover::before { left:100%; }
        .btn-analyze:disabled { opacity:.4; cursor:not-allowed; transform:none; animation:none; }

        /* ═══ PIPELINE VISUALIZATION ═══ */
        .pipeline-section { display:none; }
        .pipeline-header { text-align:center; margin-bottom:2rem; }
        .pipeline-header h2 {
            font-size:1.5rem; font-weight:900; justify-content:center;
            background: linear-gradient(135deg, var(--red), var(--gold));
            -webkit-background-clip:text; -webkit-text-fill-color:transparent;
        }
        .pipeline-timer { font-size:.85rem; color:var(--text-dim); margin-top:.5rem; font-variant-numeric:tabular-nums; }

        .phase-block {
            margin-bottom:1.5rem; border-radius:16px; overflow:hidden;
            border:1px solid var(--border); background:var(--bg-card);
            transition:border-color .5s, box-shadow .5s;
        }
        .phase-block.active { border-color:var(--gold); box-shadow:0 0 30px var(--glow-gold); }
        .phase-block.done { border-color:var(--green); box-shadow:0 0 20px var(--glow-green); }
        .phase-label {
            padding:12px 20px; font-size:.8rem; font-weight:700; text-transform:uppercase; letter-spacing:1.5px;
            display:flex; align-items:center; gap:.7rem;
            background:rgba(255,255,255,0.02);
        }
        .phase-indicator { width:10px; height:10px; border-radius:50%; background:rgba(255,255,255,0.1); transition:all .5s; }
        .phase-block.active .phase-indicator { background:var(--gold); box-shadow:0 0 12px var(--glow-gold); animation:pulse 1.2s infinite; }
        .phase-block.done .phase-indicator { background:var(--green); box-shadow:0 0 10px var(--glow-green); }
        .phase-progress { height:3px; background:rgba(255,255,255,0.05); }
        .phase-progress-bar { height:100%; width:0%; transition:width .5s; background:linear-gradient(90deg, var(--gold), var(--green)); }
        .phase-block.done .phase-progress-bar { width:100%; background:var(--green); }

        .agents-grid { display:grid; grid-template-columns:repeat(auto-fill, minmax(130px,1fr)); gap:8px; padding:14px; }
        .agent-node {
            padding:10px 8px; border-radius:12px; text-align:center;
            border:1px solid transparent; background:rgba(255,255,255,0.02);
            transition:all .4s; position:relative; overflow:hidden;
        }
        .agent-node::before {
            content:''; position:absolute; inset:0; opacity:0; transition:opacity .4s;
            background: radial-gradient(circle at 50% 50%, var(--glow-purple), transparent 70%);
        }
        .agent-node.waiting { opacity:.4; }
        .agent-node.running { border-color:var(--cyan); background:rgba(6,182,212,0.06); animation:nodeGlow 1.5s ease-in-out infinite; }
        .agent-node.running::before { opacity:.8; background:radial-gradient(circle, var(--glow-cyan), transparent 70%); }
        @keyframes nodeGlow { 0%,100%{box-shadow:0 0 8px var(--glow-cyan)} 50%{box-shadow:0 0 25px var(--glow-cyan)} }
        .agent-node.done { border-color:rgba(34,197,94,0.3); background:rgba(34,197,94,0.05); }
        .agent-node.error { border-color:rgba(239,68,68,0.3); background:rgba(239,68,68,0.05); }
        .agent-icon { font-size:1.4rem; display:block; margin-bottom:3px; position:relative; }
        .agent-name { font-size:.65rem; font-weight:700; color:var(--text-dim); text-transform:uppercase; letter-spacing:.5px; }
        .agent-model { display:none; }
        .agent-status { font-size:.55rem; font-weight:600; margin-top:3px; display:flex; align-items:center; justify-content:center; gap:3px; }
        .agent-node.running .agent-status { color:var(--cyan); }
        .agent-node.done .agent-status { color:var(--green); }
        .agent-node.error .agent-status { color:#ef4444; }
        .spinner-dot { width:4px; height:4px; border-radius:50%; background:var(--cyan); animation:spinDot .8s ease-in-out infinite; }
        @keyframes spinDot { 0%,100%{opacity:1;transform:scale(1)} 50%{opacity:.3;transform:scale(.5)} }
        .check-mark { color:var(--green); font-weight:800; }

        .flow-connector { display:flex; align-items:center; justify-content:center; padding:6px 0; position:relative; }
        .flow-line { width:2px; height:24px; position:relative; overflow:hidden; background:rgba(255,255,255,0.06); }
        .flow-line.active::after {
            content:''; position:absolute; top:-100%; left:0; width:100%; height:50%;
            background: linear-gradient(180deg, transparent, var(--cyan), transparent);
            animation:flowDown 1s linear infinite;
        }
        @keyframes flowDown { 0%{top:-50%} 100%{top:150%} }

        .brain-core { width:100px; height:100px; margin:0 auto 1rem; position:relative; display:flex; align-items:center; justify-content:center; }
        .brain-ring {
            position:absolute; inset:0; border-radius:50%; border:2px solid transparent;
            border-top-color:var(--red); border-right-color:var(--gold);
            animation:spinRing 2s linear infinite;
        }
        .brain-ring.inner { inset:12px; border-top-color:var(--cyan); border-right-color:var(--purple); animation-direction:reverse; animation-duration:1.5s; }
        .brain-ring.outer { inset:-8px; border-top-color:var(--gold); border-right-color:var(--green); animation-duration:3s; opacity:.4; }
        @keyframes spinRing { 0%{transform:rotate(0)} 100%{transform:rotate(360deg)} }
        .brain-icon { font-size:2.2rem; position:relative; z-index:1; filter:drop-shadow(0 0 12px var(--glow-purple)); }

        /* ═══ RESULTS ═══ */
        .results-section { display:none; }
        .score-display { text-align:center; padding:2rem 0; }
        .score-ring { width:160px; height:160px; margin:0 auto 1rem; position:relative; }
        .score-ring svg { width:100%; height:100%; transform:rotate(-90deg); }
        .score-ring-bg { fill:none; stroke:rgba(255,255,255,0.06); stroke-width:8; }
        .score-ring-fill { fill:none; stroke-width:8; stroke-linecap:round; stroke-dasharray:440; stroke-dashoffset:440; transition:stroke-dashoffset 2s ease-out, stroke 1s; }
        .score-center { position:absolute; inset:0; display:flex; flex-direction:column; align-items:center; justify-content:center; }
        .score-num { font-size:2.8rem; font-weight:900; line-height:1; }
        .score-label { font-size:.7rem; color:var(--text-dim); margin-top:2px; }
        .reco-box { margin:1rem auto; padding:14px 28px; border-radius:14px; text-align:center; font-weight:800; font-size:1.15rem; display:inline-block; animation:fadeInUp .6s ease; }
        .reco-contester { background:rgba(34,197,94,0.12); color:var(--green); border:1px solid rgba(34,197,94,0.2); box-shadow:0 0 30px var(--glow-green); }
        .reco-negocier { background:rgba(245,158,11,0.12); color:#f59e0b; border:1px solid rgba(245,158,11,0.2); box-shadow:0 0 30px rgba(245,158,11,0.2); }
        .reco-payer { background:rgba(239,68,68,0.12); color:#ef4444; border:1px solid rgba(239,68,68,0.2); box-shadow:0 0 30px rgba(239,68,68,0.2); }
        @keyframes fadeInUp { 0%{opacity:0;transform:translateY(20px)} 100%{opacity:1;transform:translateY(0)} }
        .fade-in { animation:fadeInUp .5s ease forwards; }
        .result-row { display:flex; justify-content:space-between; padding:.7rem 0; border-bottom:1px solid var(--border); font-size:.88rem; }
        .result-label { color:var(--text-dim); }
        .result-value { font-weight:700; }
        .args-list { list-style:none; }
        .args-list li {
            padding:.6rem .8rem; margin-bottom:.4rem; border-radius:10px;
            background:rgba(255,255,255,0.03); border-left:3px solid var(--gold);
            font-size:.85rem; color:#ccd; line-height:1.5;
            animation:fadeInUp .4s ease forwards; opacity:0;
        }
        .etapes-list { list-style:none; counter-reset:etape; }
        .etapes-list li {
            padding:.6rem .8rem .6rem 2.5rem; margin-bottom:.4rem; border-radius:10px;
            background:rgba(255,255,255,0.03); font-size:.85rem; color:#ccd; line-height:1.5;
            position:relative; animation:fadeInUp .4s ease forwards; opacity:0;
        }
        .etapes-list li::before {
            counter-increment:etape; content:counter(etape);
            position:absolute; left:8px; top:8px; width:22px; height:22px; border-radius:6px;
            background:linear-gradient(135deg, var(--navy), var(--purple));
            color:#fff; font-size:.7rem; font-weight:800;
            display:flex; align-items:center; justify-content:center;
        }
        .btn-secondary {
            width:100%; padding:14px; border:1px solid var(--border); border-radius:14px;
            background:rgba(255,255,255,0.04); color:var(--text); font-size:1rem;
            font-weight:700; cursor:pointer; transition:all .3s; font-family:'Inter',sans-serif;
        }
        .btn-secondary:hover { border-color:var(--gold); background:rgba(212,168,67,0.08); }
        .btn-pdf {
            display:inline-block; padding:12px 28px; border-radius:12px; text-decoration:none;
            background:linear-gradient(135deg, var(--red), #c62828); color:#fff;
            font-weight:700; font-size:.9rem; transition:all .3s; margin-top:.5rem;
        }
        .btn-pdf:hover { transform:translateY(-2px); box-shadow:0 8px 25px var(--glow-red); text-decoration:none; }
        .desc-note { font-size:.7rem; color:var(--text-muted); margin-top:.5rem; font-style:italic; }

        /* ═══ PRICING ═══ */
        .pricing-grid { display:grid; grid-template-columns:repeat(3,1fr); gap:1.5rem; }
        .price-card {
            background:var(--bg-card); border:1px solid var(--border);
            border-radius:20px; padding:2rem 1.5rem; text-align:center;
            backdrop-filter:blur(12px); transition:all .3s; position:relative;
        }
        .price-card.featured {
            border-color:var(--gold);
            box-shadow:0 0 40px var(--glow-gold);
        }
        .price-card.featured::before {
            content:'POPULAIRE'; position:absolute; top:-12px; left:50%; transform:translateX(-50%);
            padding:4px 16px; border-radius:8px; font-size:.65rem; font-weight:800;
            background:linear-gradient(135deg, var(--gold), var(--red));
            color:#fff; letter-spacing:1px;
        }
        .price-card:hover { transform:translateY(-4px); box-shadow:0 8px 32px rgba(0,0,0,0.3); }
        .price-name { font-size:.85rem; font-weight:700; color:var(--text-dim); text-transform:uppercase; letter-spacing:1px; margin-bottom:1rem; }
        .price-amount { font-size:2.5rem; font-weight:900; margin-bottom:.3rem; }
        .price-amount .currency { font-size:1.2rem; vertical-align:top; color:var(--text-dim); }
        .price-period { font-size:.75rem; color:var(--text-dim); margin-bottom:1.5rem; }
        .price-features { list-style:none; text-align:left; margin-bottom:1.5rem; }
        .price-features li { padding:.4rem 0; font-size:.82rem; color:var(--text-dim); display:flex; align-items:center; gap:.5rem; }
        .price-features li::before { content:''; width:5px; height:5px; border-radius:50%; background:var(--green); flex-shrink:0; }
        .price-btn {
            width:100%; padding:12px; border:1px solid var(--border); border-radius:12px;
            background:rgba(255,255,255,0.04); color:var(--text); font-size:.88rem;
            font-weight:700; cursor:pointer; transition:all .3s; font-family:'Inter',sans-serif;
        }
        .price-btn:hover { border-color:var(--gold); background:rgba(212,168,67,0.08); }
        .price-card.featured .price-btn {
            background:linear-gradient(135deg, var(--red), var(--red-dark));
            border:none; color:#fff;
        }
        .price-card.featured .price-btn:hover { box-shadow:0 6px 20px var(--glow-red); transform:translateY(-2px); }

        /* ═══ FAQ ═══ */
        .faq-list { max-width:700px; margin:0 auto; }
        .faq-item {
            border:1px solid var(--border); border-radius:14px;
            margin-bottom:.8rem; overflow:hidden; background:var(--bg-card);
            transition:border-color .3s;
        }
        .faq-item:hover { border-color:rgba(255,255,255,0.12); }
        .faq-q {
            padding:1.1rem 1.3rem; cursor:pointer; font-weight:700; font-size:.92rem;
            display:flex; justify-content:space-between; align-items:center;
            user-select:none; transition:color .2s;
        }
        .faq-q:hover { color:var(--gold); }
        .faq-arrow { font-size:.7rem; transition:transform .3s; color:var(--text-dim); }
        .faq-item.open .faq-arrow { transform:rotate(180deg); }
        .faq-a {
            max-height:0; overflow:hidden; transition:max-height .3s ease, padding .3s;
            padding:0 1.3rem; font-size:.85rem; color:var(--text-dim); line-height:1.7;
        }
        .faq-item.open .faq-a { max-height:300px; padding:0 1.3rem 1.1rem; }

        /* ═══ FOOTER ═══ */
        .footer {
            padding:3rem 0; border-top:1px solid var(--border);
            text-align:center;
        }
        .footer-logo {
            font-size:1.5rem; font-weight:900; letter-spacing:3px; margin-bottom:.5rem;
            background:linear-gradient(135deg, var(--red), var(--gold));
            -webkit-background-clip:text; -webkit-text-fill-color:transparent;
        }
        .footer-text { font-size:.78rem; color:var(--text-dim); line-height:1.8; }
        .footer-text a { color:var(--gold); }
        .footer-legal { font-size:.68rem; color:var(--text-muted); margin-top:1rem; line-height:1.6; }

        /* ═══ RESPONSIVE ═══ */
        @media (max-width:800px) {
            .hero h1 { font-size:2.4rem; }
            .hero-stats { gap:1.5rem; }
            .steps-grid { grid-template-columns:1fr; }
            .features-grid { grid-template-columns:1fr; }
            .pricing-grid { grid-template-columns:1fr; max-width:380px; margin:0 auto; }
            .price-card.featured { order:-1; }
            .nav-links a:not(.nav-cta) { display:none; }
        }
        @media (max-width:700px) {
            .type-grid { grid-template-columns:repeat(3,1fr); }
            .form-grid { grid-template-columns:1fr; }
            .agents-grid { grid-template-columns:repeat(3,1fr); }
        }
        @media (max-width:400px) {
            .type-grid { grid-template-columns:repeat(2,1fr); }
            .agents-grid { grid-template-columns:repeat(2,1fr); }
            .hero h1 { font-size:2rem; }
        }

        /* ═══ SCROLL REVEAL ═══ */
        .reveal { opacity:0; transform:translateY(30px); transition:opacity .6s ease, transform .6s ease; }
        .reveal.visible { opacity:1; transform:translateY(0); }
    </style>
</head>
<body>

<div id="particles-bg"></div>

<!-- ═══ NAVBAR ═══ -->
<nav class="navbar">
    <div class="container">
        <span class="nav-logo">TICKET911</span>
        <div class="nav-links">
            <a href="#comment">Comment</a>
            <a href="#features">Avantages</a>
            <a href="#prix">Prix</a>
            <a href="#faq">FAQ</a>
            <a href="#scanner" class="nav-cta">Analyser mon ticket</a>
        </div>
    </div>
</nav>

<!-- ═══ HERO ═══ -->
<section class="hero">
    <div class="hero-content">
        <div class="hero-badge">
            <span class="hero-badge-dot"></span>
            <span id="statusBadge">Connexion...</span>
        </div>
        <h1>Contestez votre<br>contravention avec<br>l'<span class="highlight">intelligence artificielle</span></h1>
        <p class="hero-sub">26 agents IA analysent votre ticket en 45 secondes. Jurisprudence, lois, arguments de defense — pour le Quebec et l'Ontario.</p>
        <div class="hero-cta-row">
            <a href="#scanner" class="btn-primary">Analyser mon ticket</a>
            <button class="btn-outline" onclick="scrollToScanner();runDemo()">Voir la demo</button>
        </div>
        <div class="hero-stats">
            <div class="hero-stat"><div class="hero-stat-num">24<span class="accent">,</span>770</div><div class="hero-stat-label">Jurisprudences</div></div>
            <div class="hero-stat"><div class="hero-stat-num">4<span class="accent">,</span>280</div><div class="hero-stat-label">Articles de loi</div></div>
            <div class="hero-stat"><div class="hero-stat-num">26</div><div class="hero-stat-label">Agents AI</div></div>
            <div class="hero-stat"><div class="hero-stat-num">45<span class="accent">s</span></div><div class="hero-stat-label">Analyse complete</div></div>
        </div>
    </div>
</section>

<!-- ═══ HOW IT WORKS ═══ -->
<section class="section" id="comment">
    <div class="container">
        <h2 class="section-title reveal">Comment ca marche</h2>
        <p class="section-sub reveal">Trois etapes simples pour obtenir votre analyse juridique complete</p>
        <div class="steps-grid">
            <div class="step-card reveal">
                <span class="step-icon">&#128247;</span>
                <div class="step-num">1</div>
                <h3>Photographiez votre ticket</h3>
                <p>Prenez une photo de votre contravention ou entrez les details manuellement. Notre IA Vision extraira automatiquement les informations.</p>
            </div>
            <div class="step-card reveal">
                <span class="step-icon">&#129504;</span>
                <div class="step-num">2</div>
                <h3>26 agents analysent</h3>
                <p>Pipeline de 4 phases: intake, analyse juridique, audit independant et livraison. Lois, precedents, arguments — tout est verifie.</p>
            </div>
            <div class="step-card reveal">
                <span class="step-icon">&#128200;</span>
                <div class="step-num">3</div>
                <h3>Recevez votre rapport</h3>
                <p>Score de contestation, arguments de defense personnalises, procedure a suivre et rapport PDF complet de 9 pages.</p>
            </div>
        </div>
    </div>
</section>

<!-- ═══ FEATURES ═══ -->
<section class="section" id="features" style="padding-top:2rem;">
    <div class="container">
        <h2 class="section-title reveal">Pourquoi Ticket911</h2>
        <p class="section-sub reveal">La technologie la plus avancee au service de vos droits</p>
        <div class="features-grid">
            <div class="feature-card reveal">
                <div class="feature-icon">&#128218;</div>
                <div><h3>24,770 decisions de jurisprudence</h3><p>Base de donnees QC et ON mise a jour — recherche semantique et full-text pour trouver les precedents pertinents a votre cas.</p></div>
            </div>
            <div class="feature-card reveal">
                <div class="feature-icon">&#128220;</div>
                <div><h3>4,280 articles de loi indexes</h3><p>Code de la securite routiere (QC), Highway Traffic Act (ON), reglements municipaux et lois federales.</p></div>
            </div>
            <div class="feature-card reveal">
                <div class="feature-icon">&#128270;</div>
                <div><h3>Double verification independante</h3><p>Chaque analyse est auditee par 2 agents de verification independants qui croisent les resultats.</p></div>
            </div>
            <div class="feature-card reveal">
                <div class="feature-icon">&#128196;</div>
                <div><h3>Rapport PDF 9 pages</h3><p>Rapport client + rapport technique avocat, arguments detailles, jurisprudence, lois applicables, procedure judiciaire.</p></div>
            </div>
            <div class="feature-card reveal">
                <div class="feature-icon">&#9878;&#65039;</div>
                <div><h3>Quebec + Ontario</h3><p>Agents specialises par juridiction — lois en francais pour le QC, en anglais pour l'ON. Procedures adaptees a chaque province.</p></div>
            </div>
            <div class="feature-card reveal">
                <div class="feature-icon">&#128247;</div>
                <div><h3>Vision AI OCR</h3><p>Photographiez votre ticket — l'IA Vision extrait automatiquement l'infraction, l'amende, les points et toutes les informations.</p></div>
            </div>
        </div>
    </div>
</section>

<!-- ═══ SCANNER ═══ -->
<section class="section" id="scanner">
    <div class="container">
        <h2 class="section-title reveal">Analysez votre contravention</h2>
        <p class="section-sub reveal">Gratuit — aucune carte de credit requise</p>

        <!-- FORM CARD -->
        <div class="card" id="formCard">
            <h2><span class="step-num-sm">1</span> Type de contravention</h2>
            <div class="type-grid" id="typeGrid">
                <div class="type-btn" data-type="vitesse" onclick="selectType(this)"><span class="type-icon">&#9889;</span>Vitesse</div>
                <div class="type-btn" data-type="feu_rouge" onclick="selectType(this)"><span class="type-icon">&#128308;</span>Feu rouge</div>
                <div class="type-btn" data-type="stop" onclick="selectType(this)"><span class="type-icon">&#9940;</span>Stop</div>
                <div class="type-btn" data-type="cellulaire" onclick="selectType(this)"><span class="type-icon">&#128241;</span>Cellulaire</div>
                <div class="type-btn" data-type="ceinture" onclick="selectType(this)"><span class="type-icon">&#128737;&#65039;</span>Ceinture</div>
                <div class="type-btn" data-type="alcool" onclick="selectType(this)"><span class="type-icon">&#127866;</span>Alcool</div>
                <div class="type-btn" data-type="conduite_dangereuse" onclick="selectType(this)"><span class="type-icon">&#9888;&#65039;</span>Dangereuse</div>
                <div class="type-btn" data-type="stationnement" onclick="selectType(this)"><span class="type-icon">&#127359;&#65039;</span>Parking</div>
                <div class="type-btn" data-type="permis" onclick="selectType(this)"><span class="type-icon">&#128179;</span>Permis</div>
                <div class="type-btn" data-type="autre" onclick="selectType(this)"><span class="type-icon">&#128221;</span>Autre</div>
            </div>

            <div class="or-divider">OU PHOTO DU TICKET</div>

            <div class="form-group full" style="margin-bottom:1.5rem">
                <div class="upload-zone" id="uploadZone">
                    <input type="file" id="ticketPhoto" accept="image/*" onchange="showFileName(this)">
                    <div class="upload-icon">&#128247;</div>
                    <div class="upload-text">Glisser ou cliquer — Vision AI extraira les informations</div>
                    <div class="file-name" id="fileName"></div>
                </div>
            </div>

            <form id="ticketForm" onsubmit="return submitAnalysis(event)">
                <h2><span class="step-num-sm">2</span> Details</h2>
                <div class="form-grid">
                    <div class="form-group"><label>Juridiction</label><select id="juridiction"><option value="QC">Quebec</option><option value="ON">Ontario</option></select></div>
                    <div class="form-group"><label>Infraction</label><input type="text" id="infraction" placeholder="Ex: Exces de vitesse" required></div>
                    <div class="form-group"><label>Article de loi</label><input type="text" id="loi" placeholder="Ex: Art. 299 CSR"></div>
                    <div class="form-group"><label>Amende ($)</label><input type="text" id="amende" placeholder="Ex: 368$"></div>
                    <div class="form-group"><label>Points</label><input type="number" id="points" value="0" min="0" max="15"></div>
                    <div class="form-group"><label>Lieu</label><input type="text" id="lieu" placeholder="Ex: Boul. Rene-Levesque"></div>
                    <div class="form-group"><label>Date</label><input type="date" id="date"></div>
                    <div class="form-group hidden" id="grp_appareil"><label>Appareil de mesure</label><select id="appareil"><option value="">Inconnu</option><option value="Cinematometre laser">Cinematometre laser</option><option value="Radar photo">Radar photo</option><option value="Radar mobile">Radar mobile</option><option value="Camera feu rouge">Camera feu rouge</option><option value="Estimation visuelle">Estimation visuelle</option></select></div>
                    <div class="form-group hidden" id="grp_captee"><label>Vitesse captee (km/h)</label><input type="number" id="vitesse_captee" value="0" min="0"></div>
                    <div class="form-group hidden" id="grp_permise"><label>Vitesse permise (km/h)</label><input type="number" id="vitesse_permise" value="0" min="0"></div>
                    <div class="form-group hidden" id="grp_taux"><label>Taux alcoolemie</label><input type="number" id="taux_alcool" value="0" min="0" max="500"></div>
                    <div class="form-group hidden" id="grp_test"><label>Type de test</label><select id="test_alcool"><option value="">—</option><option value="Alcootest approuve">Alcootest</option><option value="Ethylometre">Ethylometre</option><option value="Refus">Refus</option></select></div>
                    <div class="form-group full"><label>Description / Contexte</label><textarea id="description" placeholder="Decrivez ce qui s'est passe..."></textarea></div>
                    <div class="form-group full"><label>Email (rapport)</label><input type="email" id="email" placeholder="votre@email.com"></div>
                </div>
                <br>
                <button type="submit" class="btn-analyze" id="btnAnalyze">&#9889; Lancer l'analyse — 26 agents AI</button>
                <div style="text-align:center;margin-top:1rem">
                    <button type="button" class="btn-secondary" onclick="runDemo()" style="width:auto;padding:10px 28px;border-color:var(--cyan);color:var(--cyan);font-size:.85rem;">
                        &#127916; Tester sans ticket
                    </button>
                    <p class="desc-note">Simule une analyse complete avec des donnees fictives</p>
                </div>
            </form>
        </div>

        <!-- PIPELINE -->
        <div class="pipeline-section" id="pipelineSection">
            <div class="pipeline-header">
                <div class="brain-core">
                    <div class="brain-ring outer"></div>
                    <div class="brain-ring"></div>
                    <div class="brain-ring inner"></div>
                    <span class="brain-icon">&#129504;</span>
                </div>
                <h2>Analyse multi-agents en cours</h2>
                <div class="pipeline-timer"><span id="timerCount">0</span>s | <span id="agentCount">0</span>/26 agents</div>
            </div>

            <div class="phase-block" id="pb1">
                <div class="phase-label"><div class="phase-indicator"></div>PHASE 1 — INTAKE</div>
                <div class="phase-progress"><div class="phase-progress-bar" id="pp1"></div></div>
                <div class="agents-grid">
                    <div class="agent-node waiting" id="ag-lecteur"><span class="agent-icon">&#128196;</span><span class="agent-name">Lecteur</span><span class="agent-model"></span><span class="agent-status"></span></div>
                    <div class="agent-node waiting" id="ag-ocr"><span class="agent-icon">&#128247;</span><span class="agent-name">OCR Vision</span><span class="agent-model"></span><span class="agent-status"></span></div>
                    <div class="agent-node waiting" id="ag-classificateur"><span class="agent-icon">&#127991;</span><span class="agent-name">Classificateur</span><span class="agent-model"></span><span class="agent-status"></span></div>
                    <div class="agent-node waiting" id="ag-validateur"><span class="agent-icon">&#9989;</span><span class="agent-name">Validateur</span><span class="agent-model"></span><span class="agent-status"></span></div>
                    <div class="agent-node waiting" id="ag-routing"><span class="agent-icon">&#128268;</span><span class="agent-name">Routing</span><span class="agent-model"></span><span class="agent-status"></span></div>
                </div>
            </div>
            <div class="flow-connector"><div class="flow-line" id="flow1"></div></div>

            <div class="phase-block" id="pb2">
                <div class="phase-label"><div class="phase-indicator"></div>PHASE 2 — ANALYSE JURIDIQUE</div>
                <div class="phase-progress"><div class="phase-progress-bar" id="pp2"></div></div>
                <div class="agents-grid">
                    <div class="agent-node waiting" id="ag-lois"><span class="agent-icon">&#128220;</span><span class="agent-name">Lois</span><span class="agent-model"></span><span class="agent-status"></span></div>
                    <div class="agent-node waiting" id="ag-lois-qc"><span class="agent-icon">&#9878;</span><span class="agent-name">Lois QC</span><span class="agent-model"></span><span class="agent-status"></span></div>
                    <div class="agent-node waiting" id="ag-lois-on"><span class="agent-icon">&#127809;</span><span class="agent-name">Lois ON</span><span class="agent-model"></span><span class="agent-status"></span></div>
                    <div class="agent-node waiting" id="ag-precedents"><span class="agent-icon">&#128218;</span><span class="agent-name">Precedents</span><span class="agent-model"></span><span class="agent-status"></span></div>
                    <div class="agent-node waiting" id="ag-precedents-qc"><span class="agent-icon">&#9878;</span><span class="agent-name">Preced. QC</span><span class="agent-model"></span><span class="agent-status"></span></div>
                    <div class="agent-node waiting" id="ag-precedents-on"><span class="agent-icon">&#127809;</span><span class="agent-name">Preced. ON</span><span class="agent-model"></span><span class="agent-status"></span></div>
                    <div class="agent-node waiting" id="ag-analyste"><span class="agent-icon">&#129504;</span><span class="agent-name">Analyste</span><span class="agent-model"></span><span class="agent-status"></span></div>
                    <div class="agent-node waiting" id="ag-analyste-qc"><span class="agent-icon">&#9878;</span><span class="agent-name">Analyste QC</span><span class="agent-model"></span><span class="agent-status"></span></div>
                    <div class="agent-node waiting" id="ag-analyste-on"><span class="agent-icon">&#127809;</span><span class="agent-name">Analyste ON</span><span class="agent-model"></span><span class="agent-status"></span></div>
                    <div class="agent-node waiting" id="ag-procedure"><span class="agent-icon">&#128203;</span><span class="agent-name">Procedure</span><span class="agent-model"></span><span class="agent-status"></span></div>
                    <div class="agent-node waiting" id="ag-procedure-qc"><span class="agent-icon">&#9878;</span><span class="agent-name">Proc. QC</span><span class="agent-model"></span><span class="agent-status"></span></div>
                    <div class="agent-node waiting" id="ag-procedure-on"><span class="agent-icon">&#127809;</span><span class="agent-name">Proc. ON</span><span class="agent-model"></span><span class="agent-status"></span></div>
                    <div class="agent-node waiting" id="ag-points"><span class="agent-icon">&#128200;</span><span class="agent-name">Points</span><span class="agent-model"></span><span class="agent-status"></span></div>
                    <div class="agent-node waiting" id="ag-temoignage"><span class="agent-icon">&#128483;</span><span class="agent-name">Temoignage</span><span class="agent-model"></span><span class="agent-status"></span></div>
                    <div class="agent-node waiting" id="ag-photo"><span class="agent-icon">&#128248;</span><span class="agent-name">Photo Anal.</span><span class="agent-model"></span><span class="agent-status"></span></div>
                </div>
            </div>
            <div class="flow-connector"><div class="flow-line" id="flow2"></div></div>

            <div class="phase-block" id="pb3">
                <div class="phase-label"><div class="phase-indicator"></div>PHASE 3 — AUDIT &amp; VERIFICATION</div>
                <div class="phase-progress"><div class="phase-progress-bar" id="pp3"></div></div>
                <div class="agents-grid">
                    <div class="agent-node waiting" id="ag-verificateur"><span class="agent-icon">&#128270;</span><span class="agent-name">Verificateur</span><span class="agent-model"></span><span class="agent-status"></span></div>
                    <div class="agent-node waiting" id="ag-cross"><span class="agent-icon">&#128256;</span><span class="agent-name">Cross-Verif</span><span class="agent-model"></span><span class="agent-status"></span></div>
                </div>
            </div>
            <div class="flow-connector"><div class="flow-line" id="flow3"></div></div>

            <div class="phase-block" id="pb4">
                <div class="phase-label"><div class="phase-indicator"></div>PHASE 4 — LIVRAISON</div>
                <div class="phase-progress"><div class="phase-progress-bar" id="pp4"></div></div>
                <div class="agents-grid">
                    <div class="agent-node waiting" id="ag-rapport-client"><span class="agent-icon">&#128209;</span><span class="agent-name">Rapport Client</span><span class="agent-model"></span><span class="agent-status"></span></div>
                    <div class="agent-node waiting" id="ag-rapport-avocat"><span class="agent-icon">&#9878;</span><span class="agent-name">Rapport Avocat</span><span class="agent-model"></span><span class="agent-status"></span></div>
                    <div class="agent-node waiting" id="ag-notification"><span class="agent-icon">&#128231;</span><span class="agent-name">Notification</span><span class="agent-model"></span><span class="agent-status"></span></div>
                    <div class="agent-node waiting" id="ag-superviseur"><span class="agent-icon">&#128081;</span><span class="agent-name">Superviseur</span><span class="agent-model"></span><span class="agent-status"></span></div>
                </div>
            </div>
        </div>

        <!-- RESULTS -->
        <div class="results-section" id="resultsSection">
            <div class="card fade-in" style="text-align:center">
                <h2 style="justify-content:center">Resultat de l'analyse</h2>
                <div class="score-display">
                    <div class="score-ring">
                        <svg viewBox="0 0 160 160">
                            <circle class="score-ring-bg" cx="80" cy="80" r="70"/>
                            <circle class="score-ring-fill" id="scoreRingFill" cx="80" cy="80" r="70"/>
                        </svg>
                        <div class="score-center">
                            <span class="score-num" id="scoreNum">0%</span>
                            <span class="score-label">chances de contestation</span>
                        </div>
                    </div>
                </div>
                <div class="reco-box" id="recoBox"></div>
            </div>
            <div class="card fade-in" id="detailsCard">
                <h2>&#128203; Details du dossier</h2>
                <div id="resultDetails"></div>
            </div>
            <div class="card fade-in">
                <h2>&#128161; Arguments de defense</h2>
                <ul class="args-list" id="argsList"></ul>
            </div>
            <div class="card fade-in">
                <h2>&#9989; Prochaines etapes</h2>
                <ol class="etapes-list" id="etapesList"></ol>
            </div>
            <div class="card fade-in" id="precedentsCard" style="display:none">
                <h2>&#128218; Precedents cites</h2>
                <div id="precedentsList"></div>
            </div>
            <div class="card fade-in" style="text-align:center">
                <h2 style="justify-content:center">&#128196; Rapport</h2>
                <p id="rapportResume" style="font-size:.88rem;color:#aab;line-height:1.7;text-align:left;margin-bottom:1rem"></p>
                <a class="btn-pdf" id="pdfLink" href="#" target="_blank">Telecharger le rapport PDF</a>
            </div>
            <button class="btn-secondary" onclick="resetForm()">&#8634; Nouvelle analyse</button>
        </div>
    </div>
</section>

<!-- ═══ PRICING ═══ -->
<section class="section" id="prix">
    <div class="container">
        <h2 class="section-title reveal">Tarification</h2>
        <p class="section-sub reveal">Choisissez le plan adapte a votre situation</p>
        <div class="pricing-grid">
            <div class="price-card reveal">
                <div class="price-name">Analyse</div>
                <div class="price-amount"><span class="currency">$</span>0</div>
                <div class="price-period">Gratuit</div>
                <ul class="price-features">
                    <li>1 analyse complete</li>
                    <li>Score de contestation</li>
                    <li>Arguments de defense</li>
                    <li>26 agents AI</li>
                </ul>
                <a href="#scanner" class="price-btn">Commencer</a>
            </div>
            <div class="price-card featured reveal">
                <div class="price-name">Rapport Pro</div>
                <div class="price-amount"><span class="currency">$</span>19<span style="font-size:1rem;color:var(--text-dim)">.99</span></div>
                <div class="price-period">par contravention</div>
                <ul class="price-features">
                    <li>Tout du plan gratuit</li>
                    <li>Rapport PDF 9 pages</li>
                    <li>Rapport technique avocat</li>
                    <li>Jurisprudence detaillee</li>
                    <li>Envoi par email</li>
                </ul>
                <button class="price-btn" onclick="alert('Bientot disponible!')">Obtenir le rapport</button>
            </div>
            <div class="price-card reveal">
                <div class="price-name">Abonnement</div>
                <div class="price-amount"><span class="currency">$</span>9<span style="font-size:1rem;color:var(--text-dim)">.99</span></div>
                <div class="price-period">par mois</div>
                <ul class="price-features">
                    <li>Analyses illimitees</li>
                    <li>Rapports PDF illimites</li>
                    <li>Alertes delais</li>
                    <li>Portail membre</li>
                    <li>Support prioritaire</li>
                </ul>
                <button class="price-btn" onclick="alert('Bientot disponible!')">Bientot disponible</button>
            </div>
        </div>
    </div>
</section>

<!-- ═══ FAQ ═══ -->
<section class="section" id="faq">
    <div class="container">
        <h2 class="section-title reveal">Questions frequentes</h2>
        <div class="divider"></div>
        <div class="faq-list">
            <div class="faq-item reveal">
                <div class="faq-q" onclick="toggleFaq(this)">Est-ce que Ticket911 remplace un avocat?<span class="faq-arrow">&#9660;</span></div>
                <div class="faq-a">Non. Ticket911 est un outil d'analyse qui vous aide a comprendre vos options. Notre rapport peut servir de base a votre defense, mais pour les cas complexes, nous recommandons de consulter un avocat specialise en droit routier.</div>
            </div>
            <div class="faq-item reveal">
                <div class="faq-q" onclick="toggleFaq(this)">Quelles provinces sont couvertes?<span class="faq-arrow">&#9660;</span></div>
                <div class="faq-a">Actuellement le Quebec et l'Ontario, avec des agents specialises pour chaque province. Nous avons plus de 24,770 decisions de jurisprudence et 4,280 articles de loi indexes pour ces deux provinces.</div>
            </div>
            <div class="faq-item reveal">
                <div class="faq-q" onclick="toggleFaq(this)">Combien de temps prend l'analyse?<span class="faq-arrow">&#9660;</span></div>
                <div class="faq-a">Environ 45 secondes. Les 26 agents travaillent en parallele sur 4 phases: intake, analyse juridique, audit independant et livraison du rapport.</div>
            </div>
            <div class="faq-item reveal">
                <div class="faq-q" onclick="toggleFaq(this)">L'analyse gratuite est vraiment gratuite?<span class="faq-arrow">&#9660;</span></div>
                <div class="faq-a">Oui. L'analyse complete avec score de contestation et arguments de defense est gratuite. Le rapport PDF detaille de 9 pages avec jurisprudence et rapport technique avocat est disponible avec le plan Rapport Pro.</div>
            </div>
            <div class="faq-item reveal">
                <div class="faq-q" onclick="toggleFaq(this)">Comment fonctionne la photo du ticket?<span class="faq-arrow">&#9660;</span></div>
                <div class="faq-a">Notre agent Vision AI utilise la reconnaissance optique de caracteres (OCR) pour extraire automatiquement les informations de votre contravention: infraction, amende, article de loi, lieu, date, etc.</div>
            </div>
            <div class="faq-item reveal">
                <div class="faq-q" onclick="toggleFaq(this)">Mes donnees sont-elles securisees?<span class="faq-arrow">&#9660;</span></div>
                <div class="faq-a">Oui. Vos donnees sont traitees sur nos serveurs canadiens securises et ne sont jamais partagees avec des tiers. Les photos de tickets sont supprimees apres l'analyse.</div>
            </div>
        </div>
    </div>
</section>

<!-- ═══ FOOTER ═══ -->
<footer class="footer">
    <div class="container">
        <div class="footer-logo">TICKET911</div>
        <p class="footer-text">
            Analyse AI de contraventions | Quebec &amp; Ontario<br>
            Developpe par <a href="#">SeoAI</a>
        </p>
        <p class="footer-legal">
            Ce service ne constitue pas un avis juridique. Consultez un avocat pour des conseils personnalises.<br>
            &copy; 2026 Ticket911 par SeoAI. Tous droits reserves.
        </p>
    </div>
</footer>

<script>
const API_BASE = window.location.pathname.includes('/scanticket') ? '/scanticket/api' : '/api';
let selectedType = '';

// ═══ PARTICLES ═══
(function initParticles(){
    const bg=document.getElementById('particles-bg');
    for(let i=0;i<30;i++){
        const p=document.createElement('div');p.className='particle';
        const size=Math.random()*3+1;
        const colors=['var(--red)','var(--gold)','var(--cyan)','var(--purple)','var(--green)'];
        p.style.cssText=`width:${size}px;height:${size}px;left:${Math.random()*100}%;top:${Math.random()*100+100}%;background:${colors[i%colors.length]};opacity:0.4;animation-duration:${Math.random()*15+10}s;animation-delay:${Math.random()*10}s;`;
        bg.appendChild(p);
    }
})();

// ═══ HEALTH CHECK ═══
fetch(API_BASE+'/health').then(r=>r.json()).then(d=>{
    const b=document.getElementById('statusBadge');
    if(d.status==='ok'){b.textContent=d.agents+' agents en ligne';}
    else{b.textContent='Hors ligne';}
}).catch(()=>{document.getElementById('statusBadge').textContent='Hors ligne';});

// ═══ SCROLL REVEAL ═══
const observer=new IntersectionObserver((entries)=>{
    entries.forEach(e=>{if(e.isIntersecting){e.target.classList.add('visible');observer.unobserve(e.target);}});
},{threshold:0.1});
document.querySelectorAll('.reveal').forEach(el=>observer.observe(el));

// ═══ FAQ ═══
function toggleFaq(el){el.parentElement.classList.toggle('open');}

// ═══ SCROLL ═══
function scrollToScanner(){document.getElementById('scanner').scrollIntoView({behavior:'smooth'});}

// ═══ TYPE SELECTION ═══
function selectType(el){
    document.querySelectorAll('.type-btn').forEach(b=>b.classList.remove('selected'));
    el.classList.add('selected');selectedType=el.dataset.type;
    const names={vitesse:'Exces de vitesse',feu_rouge:'Feu rouge',stop:'Arret stop',cellulaire:'Cellulaire au volant',ceinture:'Ceinture de securite',alcool:'Capacites affaiblies',conduite_dangereuse:'Conduite dangereuse',stationnement:'Stationnement',permis:'Permis/Immatriculation',autre:''};
    document.getElementById('infraction').value=names[selectedType]||'';
    ['grp_captee','grp_permise'].forEach(id=>document.getElementById(id).classList.toggle('hidden',selectedType!=='vitesse'));
    ['grp_taux','grp_test'].forEach(id=>document.getElementById(id).classList.toggle('hidden',selectedType!=='alcool'));
    document.getElementById('grp_appareil').classList.toggle('hidden',!['vitesse','feu_rouge'].includes(selectedType));
}
function showFileName(input){document.getElementById('fileName').textContent=input.files[0]?input.files[0].name:'';}

// ═══ PIPELINE ANIMATION ═══
const PIPELINE={
    1:{agents:['ag-lecteur','ag-ocr','ag-classificateur','ag-validateur','ag-routing'],duration:8},
    2:{agents:['ag-lois','ag-lois-qc','ag-lois-on','ag-precedents','ag-precedents-qc','ag-precedents-on','ag-analyste','ag-analyste-qc','ag-analyste-on','ag-procedure','ag-procedure-qc','ag-procedure-on','ag-points','ag-temoignage','ag-photo'],duration:30},
    3:{agents:['ag-verificateur','ag-cross'],duration:10},
    4:{agents:['ag-rapport-client','ag-rapport-avocat','ag-notification','ag-superviseur'],duration:12},
};
let timerInterval,agentsDone=0;

function runPipelineAnimation(){
    agentsDone=0;const startTime=Date.now();
    timerInterval=setInterval(()=>{
        document.getElementById('timerCount').textContent=Math.round((Date.now()-startTime)/1000);
        document.getElementById('agentCount').textContent=agentsDone;
    },200);
    let delay=0;
    [1,2,3,4].forEach(phase=>{
        const p=PIPELINE[phase],block=document.getElementById('pb'+phase),bar=document.getElementById('pp'+phase);
        const flowId='flow'+(phase-1);
        setTimeout(()=>{block.classList.add('active');if(flowId!=='flow0')document.getElementById(flowId).classList.add('active');},delay*1000);
        const agentDelay=p.duration/(p.agents.length+1);
        p.agents.forEach((agId,i)=>{
            const startMs=(delay+agentDelay*(i+0.5))*1000;
            const endMs=startMs+agentDelay*1000*0.8;
            setTimeout(()=>{const node=document.getElementById(agId);node.classList.remove('waiting');node.classList.add('running');node.querySelector('.agent-status').innerHTML='<span class="spinner-dot"></span><span class="spinner-dot" style="animation-delay:.2s"></span><span class="spinner-dot" style="animation-delay:.4s"></span>';},startMs);
            setTimeout(()=>{const node=document.getElementById(agId);node.classList.remove('running');node.classList.add('done');node.querySelector('.agent-status').innerHTML='<span class="check-mark">&#10003;</span>';agentsDone++;const doneInPhase=p.agents.filter(a=>document.getElementById(a).classList.contains('done')).length;bar.style.width=(doneInPhase/p.agents.length*100)+'%';},endMs);
        });
        setTimeout(()=>{block.classList.remove('active');block.classList.add('done');bar.style.width='100%';},(delay+p.duration)*1000);
        delay+=p.duration;
    });
}

// ═══ SUBMIT ═══
async function submitAnalysis(e){
    e.preventDefault();document.getElementById('btnAnalyze').disabled=true;
    document.getElementById('formCard').style.display='none';
    document.getElementById('pipelineSection').style.display='block';
    document.getElementById('resultsSection').style.display='none';
    runPipelineAnimation();
    const formData=new FormData();
    const ticket={infraction:document.getElementById('infraction').value,juridiction:document.getElementById('juridiction').value,loi:document.getElementById('loi').value,amende:document.getElementById('amende').value,points_inaptitude:parseInt(document.getElementById('points').value)||0,lieu:document.getElementById('lieu').value,date:document.getElementById('date').value,appareil:document.getElementById('appareil').value,vitesse_captee:parseInt(document.getElementById('vitesse_captee')?.value)||0,vitesse_permise:parseInt(document.getElementById('vitesse_permise')?.value)||0,type_infraction:selectedType};
    if(selectedType==='alcool'){ticket.taux_alcool=parseInt(document.getElementById('taux_alcool').value)||0;ticket.test_alcool=document.getElementById('test_alcool').value;}
    const desc=document.getElementById('description').value;
    if(desc)formData.append('temoignage',desc);
    formData.append('ticket',JSON.stringify(ticket));
    formData.append('client_info',JSON.stringify({email:document.getElementById('email').value||''}));
    const photo=document.getElementById('ticketPhoto').files[0];
    if(photo)formData.append('image',photo);
    try{const resp=await fetch(API_BASE+'/analyze',{method:'POST',body:formData});const data=await resp.json();showResults(data);}
    catch(err){alert('Erreur: '+err.message);resetForm();}
}

// ═══ RESULTS ═══
function showResults(data){
    clearInterval(timerInterval);
    document.querySelectorAll('.agent-node').forEach(n=>{n.classList.remove('waiting','running');n.classList.add('done');n.querySelector('.agent-status').innerHTML='<span class="check-mark">&#10003;</span>';});
    [1,2,3,4].forEach(i=>{document.getElementById('pb'+i).classList.remove('active');document.getElementById('pb'+i).classList.add('done');document.getElementById('pp'+i).style.width='100%';});
    document.getElementById('agentCount').textContent='26';
    setTimeout(()=>{
        document.getElementById('pipelineSection').style.display='none';
        document.getElementById('resultsSection').style.display='block';
        const score=data.score_final||0;
        const circumference=2*Math.PI*70;
        const offset=circumference-(score/100*circumference);
        const fill=document.getElementById('scoreRingFill');
        const color=score>=60?'var(--green)':score>=30?'#f59e0b':'#ef4444';
        fill.style.stroke=color;
        setTimeout(()=>{fill.style.strokeDashoffset=offset;},100);
        document.getElementById('scoreNum').textContent=score+'%';
        const reco=(data.recommandation||'').toLowerCase();
        const rb=document.getElementById('recoBox');
        if(reco.includes('contester')){rb.textContent='CONTESTER — Bonnes chances';rb.className='reco-box reco-contester';}
        else if(reco.includes('negocier')){rb.textContent='NEGOCIER — Reduction possible';rb.className='reco-box reco-negocier';}
        else{rb.textContent='PAYER — Faibles chances';rb.className='reco-box reco-payer';}
        document.getElementById('resultDetails').innerHTML=[['Dossier','#'+(data.dossier_uuid||'?')],['Juridiction',data.juridiction||'?'],['Confiance',(data.confiance||0)+'%'],['Qualite',((data.supervision||{}).score_qualite||'?')+'%'],['Temps',Math.round(data.temps_total||0)+'s'],['Erreurs',data.nb_erreurs||0]].map(([l,v])=>`<div class="result-row"><span class="result-label">${l}</span><span class="result-value">${v}</span></div>`).join('');
        const args=(data.arguments)||[];
        document.getElementById('argsList').innerHTML=args.length?args.map((a,i)=>`<li style="animation-delay:${i*.1}s">${a}</li>`).join(''):'<li>Consultez un avocat pour une analyse approfondie</li>';
        const rc=data.rapport_client||{};
        const etapes=rc.prochaines_etapes||[];
        document.getElementById('etapesList').innerHTML=etapes.length?etapes.map((e,i)=>`<li style="animation-delay:${i*.1}s">${e}</li>`).join(''):'<li>Consultez un avocat specialise en droit routier</li>';
        document.getElementById('rapportResume').textContent=rc.resume||'Rapport en cours de generation...';
        document.getElementById('pdfLink').href=API_BASE+'/rapport/'+(data.dossier_uuid||'');
        document.querySelectorAll('.results-section .card').forEach((c,i)=>{c.style.animationDelay=(i*.15)+'s';});
    },1500);
}

// ═══ DEMO ═══
async function runDemo(){
    document.getElementById('btnAnalyze').disabled=true;
    document.getElementById('formCard').style.display='none';
    document.getElementById('pipelineSection').style.display='block';
    document.getElementById('resultsSection').style.display='none';
    runPipelineAnimation();
    const demoStart=Date.now();
    try{
        const resp=await fetch(API_BASE+'/demo',{method:'POST',headers:{'Content-Type':'application/json'},body:'{}'});
        const data=await resp.json();
        const elapsed=Date.now()-demoStart;
        const wait=Math.max(0,8000-elapsed);
        setTimeout(()=>showResults(data),wait);
    }catch(err){alert('Erreur demo: '+err.message);resetForm();}
}

// ═══ RESET ═══
function resetForm(){
    document.getElementById('formCard').style.display='block';
    document.getElementById('pipelineSection').style.display='none';
    document.getElementById('resultsSection').style.display='none';
    document.getElementById('btnAnalyze').disabled=false;
    document.querySelectorAll('.agent-node').forEach(n=>{n.className='agent-node waiting';n.querySelector('.agent-status').innerHTML='';});
    [1,2,3,4].forEach(i=>{document.getElementById('pb'+i).className='phase-block';document.getElementById('pp'+i).style.width='0%';});
    ['flow1','flow2','flow3'].forEach(id=>{const el=document.getElementById(id);if(el)el.classList.remove('active');});
    document.querySelectorAll('.type-btn').forEach(b=>b.classList.remove('selected'));
    selectedType='';
    document.getElementById('scoreRingFill').style.strokeDashoffset=440;
    clearInterval(timerInterval);
}

// ═══ NAVBAR SCROLL ═══
window.addEventListener('scroll',()=>{
    document.querySelector('.navbar').style.background=window.scrollY>50?'rgba(6,10,24,0.95)':'rgba(6,10,24,0.85)';
});
</script>
</body>
</html>
